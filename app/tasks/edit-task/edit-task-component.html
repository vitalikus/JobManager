<div class="container-fluid"  card-body>
  <div class="row">
    <div class="col-12">
      <h2>Task details</h2>
      <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
      <form (ngSubmit)="onSave(form)" #form="ngForm">
      <div class="form-group">
        <label for="TaskName">NAME<span class="required-star">*</span></label>
        <input type="text" required  minlength="4" maxlength="150" class="form-control" name="TaskName" id="task.TaskName" placeholder="Name" [(ngModel)]="task.TaskName"
           #nameCtrl="ngModel">
        <span class="help-block" *ngIf="nameCtrl.invalid && nameCtrl.touched">Please input a task name</span>
      </div>
      <div class="form-group">
        <label for="Cron">CRON<span class="required-star">*</span></label>
        <input type="text" class="form-control" name="task.Cron" id="Cron" placeholder="Cron" [(ngModel)]="task.Cron"
           #cronCtrl="ngModel">
      </div>
      <div class="form-group">
          <label for="url">SCHEDULED URL <span class="required-star">*</span></label>
          <input type="text" class="form-control" name="task.ScheduledUrl" id="url" placeholder="Scheduled url" [(ngModel)]="task.ScheduledUrl"
             #urlCtrl="ngModel">
      </div>
      
      <div class="form-group">
          <label for="MaxDuration">MAX DURATION</label>
          <input type="text" class="form-control" name="task.MaxDuration" id="url" placeholder="Max duration" [(ngModel)]="task.MaxDuration"
             #durationCtrl="ngModel">
      </div> 

      <div class="form-group">
          <label for="conflicts">CONFLICT TASKS</label><br>
          <p-multiSelect [options]="conflicts" [(ngModel)]="task.ConflictTasks" ></p-multiSelect>          
        </div>

      <div class="form-group">
          <label for="body">BODY</label>
          <input type="text" class="form-control" name="task.Body" id="body" placeholder="Body" [(ngModel)]="task.Body"
             #bodyCtrl="ngModel">
      </div>

      <button class="btn btn-primary sc-btn"  type="submit">Save</button>
      <a [routerLink]="['/tasks']">
        <button class="btn btn-default sc-btn">Cancel</button></a>
      </form>
    </div>
  </div>
</div>
<p-dialog [(header)]="title" [(visible)]="display" modal="modal" width="300" [responsive]="true">
  <p>{{ message }}</p>
  <p-footer>
    <button type="button" pButton icon="fa-check" (click)="close()" label="Ok"></button>
  </p-footer>
</p-dialog>